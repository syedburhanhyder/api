<app-header></app-header>
<div class="container-fluid">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar position-sticky fixed-top">
            <div class="sidebar-sticky position-sticky fixed-top">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
              </svg> Dashboard <span class="sr-only"></span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
                <h1 class="h2">Dashboard</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <button class="btn btn-sm btn-outline-secondary" *ngIf="!showHide" (click)="showForm()">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="feather feather-calendar"
            >
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            Search Now
          </button>
                </div>
            </div>
            <form [formGroup]="advanceSearchForm" (ngSubmit)="onSubmit()" *ngIf="showHide">
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="page">Page</label>
                        <input class="form-control" formControlName="page" type="text" name="page" (keyup)="changedPage($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="pagesize">Page Size</label>

                        <input class="form-control" formControlName="pagesize" type="text" name="pagesize" (keyup)="changedPageSize($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="fromdate">From</label>

                        <input class="form-control" formControlName="fromdate" type="date" name="fromdate" (change)="changedFromDate($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="todate">To</label>

                        <input class="form-control" formControlName="todate" type="date" name="todate" (change)="changedToDate($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="order">Order</label>

                        <select class="custom-select d-block w-100" formControlName="order" name="order" (change)="changedOrder($event)">
              <option value="">Desc</option>
              <option>Asc</option>
            </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="min">Min</label>

                        <input class="form-control" formControlName="min" type="date" name="min" (change)="changedMin($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="max">Max</label>

                        <input class="form-control" formControlName="max" type="date" name="max" (change)="changedMax($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="sort">Sort</label>

                        <select class="custom-select d-block w-100" formControlName="sort" name="sort" (change)="changedSort($event)">
              <option>activity</option>
              <option>votes</option>
              <option>creation</option>
              <option>relevance</option>
            </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="q">q</label>
                        <input class="form-control" formControlName="q" type="text" name="q" (keyup)="changedQ($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="accepted">Accepted</label>

                        <select class="custom-select d-block w-100" formControlName="accepted" name="accepted" (change)="changedAccepted($event)">
              <option></option>
              <option>True</option>
              <option>False</option>
            </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="answers">Answers</label>
                        <input class="form-control" type="text" formControlName="answers" name="answers" (keyup)="changedAnswers($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="body">body</label>
                        <input class="form-control" type="text" formControlName="body" name="body" (keyup)="changedBody($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="closed">Closed</label>

                        <select class="custom-select d-block w-100" formControlName="closed" name="closed" (change)="changedClosed($event)">
              <option></option>
              <option>True</option>
              <option>False</option>
            </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="migrated">Migrated</label>

                        <select class="custom-select d-block w-100" formControlName="migrated" name="migrated" (change)="changedMigrated($event)">
              <option></option>
              <option>True</option>
              <option>False</option>
            </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="notice">Notice</label>

                        <select class="custom-select d-block w-100" formControlName="notice" name="notice" (change)="changedNotice($event)">
              <option></option>
              <option>True</option>
              <option>False</option>
            </select>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="nottagged">Nottagged</label>
                        <input class="form-control" formControlName="nottagged" type="text" name="nottagged" (keyup)="changedNottagged($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="tagged">Tagged</label>
                        <input class="form-control" formControlName="tagged" type="text" name="tagged" (keyup)="changedTagged($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="title">Title</label>
                        <input class="form-control" formControlName="title" type="text" name="title" (keyup)="changedTitle($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="user">User</label>
                        <input class="form-control" formControlName="user" type="text" name="user" (keyup)="changedUser($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="url">URL</label>
                        <input class="form-control" formControlName="url" type="text" name="url" (keyup)="changedUrl($event)" />
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="views">Views</label>
                        <input class="form-control" formControlName="views" type="text" name="views" (keyup)="changedViews($event)" />
                    </div>

                    <div class="col-md-4 mb-3">
                        <label for="wiki">Wiki</label>

                        <select class="custom-select d-block w-100" formControlName="wiki" name="wiki" (change)="changedWiki($event)">
              <option></option>
              <option>True</option>
              <option>False</option>
            </select>
                    </div>
                    <div class="col-md-10 mb-3">
                        <div class="card">
                            <div class="card-body">
                                <a href="https://api.stackexchange.com/2.3/search/advanced?{{
                    filterpage
                  }}{{ filterpagesize }}{{ filterfromdate }}{{ filtermin }}{{
                    filtermax
                  }}{{ filterorder }}{{ filtersort }}{{ filterq }}{{
                    filterbody
                  }}{{ filteraccepted }}{{ filtermigrated }}{{ filternotice }}{{
                    filterclosed
                  }}{{ filterwiki }}{{ filteranswers }}{{ filtertitle }}{{
                    filtertagged
                  }}{{ filternottagged }}{{ filteruser }}{{ filterviews }}{{
                    filterurl
                  }}{{ filtersite }}" target="_blank" id="searchUrl">
                  https://api.stackexchange.com/2.3/search/advanced?{{
                    filterpage
                  }}{{ filterpagesize }}{{ filterfromdate }}{{ filtermin
                  }}{{ filtermax }}{{ filterorder }}{{ filtersort }}{{ filterq
                  }}{{ filterbody }}{{ filteraccepted }}{{ filtermigrated
                  }}{{ filternotice }}{{ filterclosed }}{{ filterwiki
                  }}{{ filteranswers }}{{ filtertitle }}{{ filtertagged
                  }}{{ filternottagged }}{{ filteruser }}{{ filterviews
                  }}{{ filterurl }}{{ filtersite }}
                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2 mb-3">
                        <button class="btn btn-primary w-75" type="submit" (click)="onSubmit()">
              Run
            </button>
                    </div>
                </div>
            </form>
            <div *ngIf="!showHide">
                <div class="card emp-profile" *ngFor="
            let items of result.items
              | paginate: { itemsPerPage: 2, currentPage: page };
            let i = index
          ">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="profile-img">
                                    <img src="{{ items.owner.profile_image }}" alt="" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="profile-head">
                                    <h5>
                                        {{ items.owner.display_name }}
                                    </h5>
                                    <h6>Stack Overflow</h6>
                                    <p class="proile-rating">
                                        {{ items.title }}<br />Question Id: {{ items.question_id }}
                                        <br /> Votes : <span>{{ items.view_count }}</span>
                                    </p>
                                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">About</a
                      >
                    </li>
                    <li class="nav-item">
                      <a
                        class="nav-link"
                        id="profile-tab"
                        data-toggle="tab"
                        href="#profile"
                        role="tab"
                        aria-controls="profile"
                        aria-selected="false"
                        >Timeline</a
                      >
                    </li>
                  </ul>
                </div>
              </div>
              <div class="col-md-2">
                <a
                  class="btn btn-secondary"
                  href="{{ items.owner.link }}"
                  target="_blank"
                  >View User</a
                >
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                <div class="profile-work">
                  <p>Accept Rate ({{ items.owner.accept_rate }})</p>
                  <p>Answered ({{ items.is_answered }})</p>
                  <p>score({{ items.score }})</p>
                </div>
              </div>
              <div class="col-md-8">
                <div class="tab-content profile-tab" id="myTabContent">
                  <div
                    class="tab-pane fade show active"
                    id="home"
                    role="tabpanel"
                    aria-labelledby="home-tab"
                  >
                    <div class="row">
                      <div class="col-md-6">
                        <label>User Id</label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ items.owner.user_id }}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <label>User Type</label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ items.owner.user_type }}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <label>Reputation</label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ items.owner.reputation }}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <label>Tags</label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ items.tags }}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <label>Account ID</label>
                      </div>
                      <div class="col-md-6">
                        <p>{{ items.owner.account_id }}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>

<div class="container" *ngIf="!showHide">
  <div class="row">
    <div class="col-12">
      <pagination-controls
        (pageChange)="page = $event"
        class="d-flex justify-content-center"
      ></pagination-controls>
    </div>
  </div>
</div>
<app-footer></app-footer>